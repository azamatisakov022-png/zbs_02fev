<script setup lang="ts">
import { ref } from 'vue'
import { useI18n } from 'vue-i18n'
import { useRouter } from 'vue-router'

const { t } = useI18n()
const router = useRouter()

function goToDecomposition() {
  router.push('/publications/decomposition')
}

interface Publication {
  id: number
  icon: string
  title: string
  description: string
  date: string
  slug?: string
}

// Sample data
const publications: Publication[] = [
  {
    id: 1,
    icon: 'üÜï',
    title: '–ó–∞–ø—É—â–µ–Ω–∞ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ —É—Ç–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å–±–æ—Ä–∞',
    description: '–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—É–º–º—É —É—Ç–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å–±–æ—Ä–∞ —Å —É—á—ë—Ç–æ–º –Ω–æ–≤—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç–æ–≤–∞—Ä–æ–≤ –∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤.',
    date: '15 –Ω–æ—è–±—Ä—è 2024'
  },
  {
    id: 2,
    icon: 'üìä',
    title: '–û—Ç—á—ë—Ç –ø–æ —Å–±–æ—Ä—É –∏ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–µ –æ—Ç—Ö–æ–¥–æ–≤ –∑–∞ III –∫–≤–∞—Ä—Ç–∞–ª 2024',
    description: '–°–æ–±—Ä–∞–Ω–æ 42.3 –º–ª–Ω —Å–æ–º —É—Ç–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å–±–æ—Ä–∞, –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–æ 12,450 —Ç–æ–Ω–Ω –æ—Ç—Ö–æ–¥–æ–≤.',
    date: '10 –Ω–æ—è–±—Ä—è 2024'
  },
  {
    id: 3,
    icon: 'üèÜ',
    title: '–û—Ç–∫—Ä—ã—Ç –ø—Ä–∏—ë–º –∑–∞—è–≤–æ–∫ –Ω–∞ –∫–æ–Ω–∫—É—Ä—Å —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤',
    description: '–ì—Ä–∞–Ω—Ç –¥–æ 500 000 —Å–æ–º –Ω–∞ –ø—Ä–æ–µ–∫—Ç—ã –≤ —Å—Ñ–µ—Ä–µ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç—Ö–æ–¥–æ–≤.',
    date: '10 –Ω–æ—è–±—Ä—è 2024'
  },
  {
    id: 4,
    icon: 'üìä',
    title: '–û—Ç—á—ë—Ç –ø–æ —Å–±–æ—Ä—É –∏ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–µ –æ—Ç—Ö–æ–¥–æ–≤ –∑–∞ III –∫–≤–∞—Ä—Ç–∞–ª 2024',
    description: '–°–æ–±—Ä–∞–Ω–æ 42.3 –º–ª–Ω —Å–æ–º —É—Ç–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å–±–æ—Ä–∞, –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–æ 12,450 —Ç–æ–Ω–Ω –æ—Ç—Ö–æ–¥–æ–≤.',
    date: '10 –Ω–æ—è–±—Ä—è 2024'
  },
  {
    id: 5,
    icon: 'üìã',
    title: '–û–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–∏—è',
    description: '–í—Å—Ç—É–ø–∏–ª–∏ –≤ —Å–∏–ª—É –Ω–æ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º, –∑–∞–Ω–∏–º–∞—é—â–∏–º—Å—è —Å–±–æ—Ä–æ–º –∏ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–æ–π –æ—Ç—Ö–æ–¥–æ–≤.',
    date: '5 –Ω–æ—è–±—Ä—è 2024'
  },
  {
    id: 6,
    icon: 'üå±',
    title: '–ó–∞–ø—É—â–µ–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Å—Ç–∞—Ä—Ç–∞–ø–æ–≤',
    description: '–ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–æ –æ–±—ä—è–≤–ª—è–µ—Ç –æ –Ω–∞—á–∞–ª–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≥—Ä–∞–Ω—Ç–æ–≤–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤ —Å—Ñ–µ—Ä–µ —ç–∫–æ–ª–æ–≥–∏–∏.',
    date: '1 –Ω–æ—è–±—Ä—è 2024'
  },
  {
    id: 7,
    icon: 'üìà',
    title: '–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –æ–∫—Ç—è–±—Ä—å 2024',
    description: '–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã –¥–∞–Ω–Ω—ã–µ –æ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –æ—Ç—Ö–æ–¥–∞—Ö –∏ –≤—ã–¥–∞–Ω–Ω—ã—Ö –ª–∏—Ü–µ–Ω–∑–∏—è—Ö –∑–∞ –ø—Ä–æ—à–µ–¥—à–∏–π –º–µ—Å—è—Ü.',
    date: '28 –æ–∫—Ç—è–±—Ä—è 2024'
  },
  {
    id: 8,
    icon: 'üîî',
    title: '–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ —Å—Ä–æ–∫–∞—Ö –ø–æ–¥–∞—á–∏ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏',
    description: '–î–æ 15 –Ω–æ—è–±—Ä—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–∞—Ç—å –∫–≤–∞—Ä—Ç–∞–ª—å–Ω—É—é –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å –ø–æ —É—Ç–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ–º—É —Å–±–æ—Ä—É.',
    date: '25 –æ–∫—Ç—è–±—Ä—è 2024'
  }
]

const handleClick = (_publication: Publication) => {
  // TODO: Implement navigation logic
}
</script>

<template>
  <div class="py-10 lg:py-[60px]">
    <!-- Page header -->
    <div class="container-main">
      <h1 class="text-2xl md:text-[28px] lg:text-[30px] font-bold text-[#415861] uppercase mb-6 lg:mb-8">
        {{ $t('publications.title') }}
      </h1>

    </div>

    <div class="container-main">
      <!-- Promo banner -->
      <div class="promo-banner" @click="goToDecomposition">
        <span class="promo-badge">{{ $t('publications.bannerBadge') }}</span>
        <div class="promo-icon-box">
          <span class="promo-icon">‚ôªÔ∏è</span>
        </div>
        <div class="promo-content">
          <h3 class="promo-title">
            {{ $t('publications.bannerTitleStart') }} <span class="promo-title-accent">{{ $t('publications.bannerTitleAccent') }}</span>
          </h3>
          <p class="promo-desc">{{ $t('publications.bannerDescription') }}</p>
        </div>
        <button class="promo-btn" @click.stop="goToDecomposition">
          {{ $t('publications.bannerButton') }} ‚Üí
        </button>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-5 lg:gap-[30px]">
        <article
          v-for="publication in publications"
          :key="publication.id"
          @click="handleClick(publication)"
          class="publication-card"
        >
          <div class="flex-1">
            <h3 class="text-[#415861] text-lg lg:text-[20px] font-medium leading-normal mb-3 lg:mb-[12px]">
              <span class="mr-1">{{ publication.icon }}</span>
              {{ publication.title }}
            </h3>
            <p class="text-[#415861] text-sm lg:text-[14px] leading-normal">
              {{ publication.description }}
            </p>
          </div>
          <time class="text-[#70868f] text-xs lg:text-[12px] mt-auto">
            {{ publication.date }}
          </time>
        </article>
      </div>
    </div>
  </div>
</template>

<style scoped>
/* Promo banner */
.promo-banner {
  display: flex;
  align-items: center;
  gap: 24px;
  background: linear-gradient(135deg, #ecfdf5 0%, #d1fae5 40%, #fef9c3 100%);
  border-radius: 16px;
  padding: 28px;
  border: 2px solid transparent;
  cursor: pointer;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  margin-bottom: 24px;
}
.promo-banner:hover {
  border-color: #10b981;
  box-shadow: 0 6px 24px rgba(16, 185, 129, 0.15);
  transform: translateY(-2px);
}
.promo-badge {
  position: absolute;
  top: 14px;
  right: 14px;
  background: #10b981;
  color: #fff;
  font-size: 9px;
  font-weight: 700;
  padding: 3px 10px;
  border-radius: 6px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}
.promo-icon-box {
  width: 72px;
  height: 72px;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.7);
  border-radius: 16px;
}
.promo-icon {
  font-size: 48px;
  line-height: 1;
}
.promo-content {
  flex: 1;
  min-width: 0;
}
.promo-title {
  font-family: 'Playfair Display', serif;
  font-size: 22px;
  font-weight: 900;
  color: #111827;
  margin-bottom: 6px;
  line-height: 1.3;
}
.promo-title-accent {
  background: linear-gradient(90deg, #10b981, #f59e0b, #ef4444);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
.promo-desc {
  font-size: 13px;
  color: #475569;
  line-height: 1.5;
}
.promo-btn {
  flex-shrink: 0;
  padding: 10px 20px;
  border-radius: 10px;
  background: #10b981;
  color: #fff;
  font-size: 13px;
  font-weight: 700;
  white-space: nowrap;
  border: none;
  cursor: pointer;
  transition: background 0.2s ease;
}
.promo-btn:hover {
  background: #059669;
}

@media (max-width: 767px) {
  .promo-banner {
    flex-direction: column;
    text-align: center;
    padding: 24px 20px;
    gap: 16px;
  }
  .promo-btn {
    width: 100%;
  }
  .promo-title {
    font-size: 19px;
  }
}

/* Publication cards */
.publication-card {
  background: #fafafa;
  border-radius: 30px;
  padding: 30px;
  display: flex;
  flex-direction: column;
  gap: 30px;
  cursor: pointer;
  transition: box-shadow 0.2s ease, transform 0.2s ease;
  min-height: 280px;
}

.publication-card:hover {
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  transform: translateY(-2px);
}

@media (max-width: 767px) {
  .publication-card {
    padding: 20px;
    min-height: auto;
    gap: 20px;
  }
}
</style>
